{% load static %}
{% include 'base.html' %}
<!DOCTYPE html>

<html class="wide wow-animation" lang="en">
<head>
    <title>История изменений</title>
    <style>
        .section-title {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .change-log {
            border: 1px solid #ddd;
            padding: 1rem;
            border-radius: 8px;
            background-color: #f9f9f9;
        }


        .change-entry {
            padding: 1rem;
            border-bottom: 1px solid #ddd;
        }

        .change-entry:last-child {
            border-bottom: none;
        }

        .date-right {
            text-align: right;
        }

    </style>
</head>
<body>
<div class="preloader">
    <div class="preloader-body">
        <div class="loader">
            <img class="preloader-ico" src="{% static 'images/history.png' %}" alt="">
        </div>
        <H5>Загрузка...</H5>
    </div>
</div>
<div class="page">
    {% include 'include/navbar.html' %}
    <div class="rd-navbar-bg novi-background bg-image"
         style="background-image: url('{% static 'images/bg-navbar.png' %}')"></div>
    <section class="breadcrumbs-custom bg-image novi-background bg-primary">
        <div class="container">
            <ul class="breadcrumbs-custom-path">
                <li><a href="{% url 'departments:home' %}">Главная</a></li>
                <li class="active">История изменений</li>
            </ul>
        </div>
    </section>
    <section class="section section-md">
        <div class="container">
            <div class="row row-50">
                <div class="col-12">
                    <h2 class="section-title">История изменений</h2>
                    <h6>Здесь вы можете отслеживать все изменения, исправления багов и доработки на сайте.</h6>

                    <div class="change-log">
                        {% for change in changes %}
                            <div class="change-entry mb-4">
                                <div class="box-icon-3 unit flex-column flex-lg-row">
                                    <div class="unit-left">
                                        <div class="icon novi-icon random-icon"></div>
                                    </div>
                                    <div class="unit-body">
                                        <h5 class="title">{{ change.title }}</h5>
                                        <p class="text">{{ change.description }}</p>
                                        <p class="text date-right">{{ change.created_at|date:"Y-m-d" }}</p>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </section>

    {% include 'include/footer.html' %}

    <div class="snackbars" id="form-output-global"></div>
    <script src="{% static 'js/core.min.js' %}"></script>
    <script src="{% static 'js/script.js' %}"></script>
    {% include 'include/notifications.html' %}
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var icons = [
                "mercury-icon-gears",
                "mercury-icon-gear",
                "mercury-icon-lightbulb-gears",
                "mercury-icon-tools"
            ];

            var iconElements = document.querySelectorAll('.random-icon');
            iconElements.forEach(function (element) {
                var randomIcon = icons[Math.floor(Math.random() * icons.length)];
                element.classList.add(randomIcon);
            });
        });
    </script>
</div>
</body>
</html>